# 数据导出与导入功能实现计划

为了满足您“保存角色创建和讨论组创建”的需求，我将实现数据的导出和导入功能。这将允许您将所有自定义角色和讨论组数据保存为本地文件进行备份，并在需要时恢复。

## 1. 存储层增强 (`src/utils/storage.ts`)
- **新增 `exportData` 方法**：
  - 读取 `dream_room_teams` (讨论组列表)。
  - 读取 `dream_room_custom_characters` (自定义角色)。
  - 读取所有相关的聊天记录 (`dream_room_messages_*`)。
  - 将所有数据打包为一个 JSON 对象。
- **新增 `importData` 方法**：
  - 接收 JSON 字符串。
  - 解析并验证数据结构。
  - 将数据批量写入 `localStorage`，覆盖现有数据（或进行合并，覆盖更简单且符合备份恢复逻辑）。

## 2. 首页 UI 升级 (`src/pages/Home.tsx`)
- 在首页右上角（"我的角色"链接旁）添加两个新按钮：
  - **导出数据 (Export)**：点击后下载 `dream_room_backup.json` 文件。
  - **导入数据 (Import)**：点击后选择文件，读取并恢复数据，随后刷新页面。
- 添加隐藏的文件输入框用于处理文件选择。

## 3. 多语言支持
- 更新 `src/locales/en.json` 和 `src/locales/zh.json`，添加导出/导入相关的按钮文本和提示信息。

## 验证
- 创建一些角色和讨论组。
- 导出数据并保存文件。
- 清除浏览器缓存（或重置数据）。
- 导入刚才保存的文件，验证所有数据（包括角色、讨论组和聊天记录）是否完美恢复。
